(this.webpackJsonpskyneb=this.webpackJsonpskyneb||[]).push([[4],{56:function(e,t,s){"use strict";s.r(t);var c=s(0),a=s(52),n=s.n(a),r=s(7),d=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(n.a,{symbol:"BITSTAMP:BTCUSD",theme:a.Themes.DARK,locale:"fr",autosize:!0,interval:15})})},i=s(51),j=s(15),b=s(21);var l=Object(j.connect)((function(e){return{liveOrders:e.liveData.liveOrders}}),(function(e){return{addLiveOrderData:function(t){return e((s=t,{type:b.a,payload:s}));var s}}}))((function(e){var t=Object(c.useState)(!1),s=Object(i.a)(t,2),a=(s[0],s[1]),n=Object(c.useState)([]),d=Object(i.a)(n,2),j=d[0],b=d[1],l=Object(c.useState)({event:"bts:subscribe",data:{channel:"live_orders_btcusd"}}),o=Object(i.a)(l,1)[0],O=new WebSocket("wss://ws.bitstamp.net"),u=function t(){var s=["order_created","order_changed","order_deleted"];O.onopen=function(){O.send(JSON.stringify(o))},O.onmessage=function(c){if(c.data){var n=JSON.parse(c.data);if(b(e.liveOrders),-1!==s.indexOf(n.event)){var r=new Date(parseInt(n.data.microtimestamp));n.data.microtimestamp=r.getHours()+":"+r.getMinutes()+":"+r.getSeconds(),e.addLiveOrderData(n.data),b(e.liveOrders)}else"bts:request_reconnect"===n.event&&t()}else a(!1)},O.onclose=function(){t()}};return Object(c.useEffect)((function(){u()}),[j,o]),Object(r.jsx)("div",{className:"live-order-data-grid-part",children:Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Fiyat(USDT)"}),Object(r.jsx)("th",{children:"Miktar(BTC)"}),Object(r.jsx)("th",{children:"Saat"})]})}),Object(r.jsx)("tbody",{children:j.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsxs)("td",{style:{color:0===e.order_type?"green":"red"},children:[" ",e.price," "]}),Object(r.jsxs)("td",{children:[" ",e.amount," "]}),Object(r.jsxs)("td",{children:[" ",e.microtimestamp]})]},t)}))})]})})}));var o=Object(j.connect)((function(e){return{liveTrades:e.liveData.liveTrades}}),(function(e){return{addLiveTradeData:function(t){return e((s=t,{type:b.b,payload:s}));var s}}}))((function(e){var t=Object(c.useState)(!1),s=Object(i.a)(t,2),a=s[0],n=s[1],d=Object(c.useState)([]),j=Object(i.a)(d,2),b=j[0],l=j[1],o=Object(c.useState)({event:"bts:subscribe",data:{channel:"live_trades_btcusd"}}),O=Object(i.a)(o,1)[0],u=new WebSocket("wss://ws.bitstamp.net"),h=function t(){u.onopen=function(){u.send(JSON.stringify(O))},u.onmessage=function(s){var c=JSON.parse(s.data);switch(c.event){case"trade":if(c.data){l([]);var a=new Date(parseInt(c.data.microtimestamp));c.data.microtimestamp=a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),e.addLiveTradeData(c.data),console.log(e.liveTrades),l(e.liveTrades),n(!0)}else n(!1);break;case"bts:request_reconnect":t()}},u.onclose=function(){t()}};return Object(c.useEffect)((function(){h()}),[b,O]),Object(r.jsx)("div",{className:"live-trade-data-grid-part",children:Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"T\xdcR"}),Object(r.jsx)("th",{children:"Fiyat "}),Object(r.jsx)("th",{children:"Miktar(BTC)"}),Object(r.jsx)("th",{children:"Saat"})]})}),Object(r.jsx)("tbody",{children:a?b.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsxs)("td",{style:{color:0===e.type?"green":"red"},children:[" ",0===e.type?"BUY(BTC)":"SELL"," "]}),Object(r.jsxs)("td",{children:[" ",e.price," "]}),Object(r.jsxs)("td",{children:[" ",e.amount," "]}),Object(r.jsxs)("td",{children:[" ",e.microtimestamp]})]},t)})):""})]})})}));var O=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)([]),d=Object(i.a)(n,2),j=d[0],b=d[1],l=Object(c.useState)({event:"bts:subscribe",data:{channel:"order_book_btcusd"}}),o=Object(i.a)(l,1)[0],O=new WebSocket("wss://ws.bitstamp.net"),u=function e(){O.onopen=function(){O.send(JSON.stringify(o))},O.onmessage=function(t){var s=JSON.parse(t.data);switch(s.event){case"data":s.data?(s.data.bids=s.data.bids.slice(Math.max(s.data.bids.length-15,0)),s.data.asks=s.data.asks.slice(Math.max(s.data.asks.length-15,0)),s.data.asks=s.data.asks.sort((function(e,t){return e-t})),s.data.bids=s.data.bids.sort((function(e,t){return t-e})),console.log(s.data),b(s.data),a(!0)):a(!1);break;case"bts:request_reconnect":e()}},O.onclose=function(){e()}};return Object(c.useEffect)((function(){u()}),[j,o]),Object(r.jsx)("div",{className:"bids-and-ask-data-grid-part",children:Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Fiyat(USDT)"}),Object(r.jsx)("th",{children:"Miktar(BTC)"}),Object(r.jsx)("th",{children:"Toplam"})]})}),Object(r.jsx)("tbody",{children:s?j.asks.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsxs)("td",{style:{color:"red"},children:[" ",e[0]," "]}),Object(r.jsxs)("td",{children:[" ",e[1]," "]}),Object(r.jsxs)("td",{children:[" ",e[0]*e[1]]})]},t)})):""}),Object(r.jsx)("tbody",{children:s?j.bids.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsxs)("td",{style:{color:"green"},children:[" ",e[0]," "]}),Object(r.jsxs)("td",{children:[" ",e[1]," "]}),Object(r.jsxs)("td",{children:[" ",e[0]*e[1]]})]},t)})):""})]})})};t.default=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(O,{}),Object(r.jsxs)("div",{className:"live-data-full-part",children:[Object(r.jsx)("div",{className:"chart-full-part",children:Object(r.jsx)(d,{})}),Object(r.jsx)(o,{})]}),Object(r.jsx)(l,{})]})}}}]);
//# sourceMappingURL=4.bf2a58a4.chunk.js.map